<div class="card filter-card">
  <div class="card-body">
    <h5 class="card-title">Filtros avanzados</h5>
    <form [formGroup]="filterForm" (ngSubmit)="applyFilters()">
      <!-- Filtros específicos para libros -->
      <div *ngIf="isForBooks">
        <div class="mb-3">
          <label for="genre" class="form-label">Género</label>
          <select class="form-select" id="genre" formControlName="genre">
            <option value="">Todos los géneros</option>
            <option *ngFor="let genre of genres" [value]="genre">{{ genre }}</option>
          </select>
        </div>
        
        <div class="row mb-3">
          <div class="col-md-6">
            <label for="yearFrom" class="form-label">Desde el año</label>
            <select class="form-select" id="yearFrom" formControlName="yearFrom">
              <option value="">Cualquier año</option>
              <option *ngFor="let year of yearRange" [value]="year">{{ year }}</option>
            </select>
          </div>
          <div class="col-md-6">
            <label for="yearTo" class="form-label">Hasta el año</label>
            <select class="form-select" id="yearTo" formControlName="yearTo">
              <option value="">Cualquier año</option>
              <option *ngFor="let year of yearRange" [value]="year">{{ year }}</option>
            </select>
          </div>
        </div>
      </div>
      
      <!-- Opciones de ordenación -->
      <div class="row mb-3">
        <div class="col-md-6">
          <label for="sort" class="form-label">Ordenar por</label>
          <select class="form-select" id="sort" formControlName="sort">
            <ng-container *ngIf="isForBooks; else authorSort">
              <option *ngFor="let option of sortOptionsBooks" [value]="option.value">{{ option.label }}</option>
            </ng-container>
            <ng-template #authorSort>
              <option *ngFor="let option of sortOptionsAuthors" [value]="option.value">{{ option.label }}</option>
            </ng-template>
          </select>
        </div>
        <div class="col-md-6">
          <label class="form-label">Dirección</label>
          <div class="btn-group w-100" role="group">
            <input type="radio" class="btn-check" name="direction" id="directionAsc" value="asc" formControlName="direction">
            <label class="btn btn-outline-secondary" for="directionAsc">
              <i class="bi bi-sort-alpha-down"></i> Ascendente
            </label>
            
            <input type="radio" class="btn-check" name="direction" id="directionDesc" value="desc" formControlName="direction">
            <label class="btn btn-outline-secondary" for="directionDesc">
              <i class="bi bi-sort-alpha-up"></i> Descendente
            </label>
          </div>
        </div>
      </div>
      
      <div class="d-flex justify-content-between">
        <button type="button" class="btn btn-outline-secondary" (click)="clearFilters()">
          <i class="bi bi-x-circle"></i> Limpiar
        </button>
        <button type="submit" class="btn btn-primary">
          <i class="bi bi-funnel-fill"></i> Aplicar filtros
        </button>
      </div>
    </form>
  </div>
</div>